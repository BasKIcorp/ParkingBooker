{% extends "base.html" %}

{% block title %}Охрана и видеонаблюдение на парковке Шереметьево{% endblock %}

{% block content %}
<!-- Main container with background -->
<div class="main-container">
  <!-- Header section -->
  <header class="main-header">
    <div class="header-content">
      <div class="header-left">
        <div class="header-title">
          <h1>Охрана и видеонаблюдение</h1>
          <p>на парковке Шереметьево</p>
        </div>
        <div class="header-info">
          <p>Парковка в 5 минутах от аэропорта</p>
          <p>Бесплатный трансфер в терминалы B,C</p>
        </div>
      </div>
      <div class="header-right">
        <div class="contact-info">
          <div class="phone-section">
            <i class="fas fa-phone"></i>
            <span>+7 (495) 147-37-13</span>
          </div>
          <p>Работаем круглосуточно</p>
        </div>
      </div>
    </div>
  </header>

  <!-- Main content section -->
  <div class="main-content">
    <!-- Hero section with form and description in one block -->
    <div class="hero-section">
      <div class="hero-content">
        <!-- Left side with security features -->
        <div class="security-content">
          <div class="security-header">
            <h2>Охрана и видеонаблюдение</h2>
            <p>на парковке Шереметьево</p>
          </div>
          
          <div class="security-features">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-user-shield"></i>
              </div>
              <div class="feature-text">
                <h3>Лицензированные охранники</h3>
                <p>круглосуточно</p>
              </div>
            </div>
            
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
              </div>
              <div class="feature-text">
                <h3>Высокий забор по периметру</h3>
              </div>
            </div>
            
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-video"></i>
              </div>
              <div class="feature-text">
                <h3>Система видеонаблюдения</h3>
                <p>с постоянной записью</p>
              </div>
            </div>
            
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-eye"></i>
              </div>
              <div class="feature-text">
                <h3>Мониторинг территории</h3>
                <p>в реальном времени</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Right side with booking form -->
        <div class="booking-content">
          <h3>Форма бронирования</h3>
          <div class="price-info">
            <p>Стоимость одного часа: {{ settings.hourly_price }} ₽</p>
          </div>
          
          <form id="bookingForm" method="POST" action="{{ url_for('book_parking') }}" class="booking-form">
            <div class="form-row">
              <div class="form-group">
                <label for="first_name">Имя*</label>
                <input type="text" id="first_name" name="first_name" placeholder="Иван" required>
              </div>
              <div class="form-group">
                <label for="last_name">Фамилия*</label>
                <input type="text" id="last_name" name="last_name" placeholder="Иванов" required>
              </div>
            </div>
            
            <div class="form-group full-width">
              <label for="phone">Номер телефона*</label>
              <input type="tel" id="phone" name="phone" placeholder="+7 (000) 000-00-00" required>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="booking_start_date">Дата начала*</label>
                <div class="input-with-icon">
                  <input type="date" id="booking_start_date" name="booking_start_date" min="{{ today }}" required>
                  <i class="fas fa-calendar"></i>
                </div>
              </div>
              <div class="form-group">
                <label for="booking_end_date">Дата конца*</label>
                <div class="input-with-icon">
                  <input type="date" id="booking_end_date" name="booking_end_date" min="{{ today }}" required>
                  <i class="fas fa-calendar"></i>
                </div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="booking_start_time">Время начала*</label>
                <input type="time" id="booking_start_time" name="booking_start_time" required step="3600" min="00:00" max="23:00">
              </div>
              <div class="form-group">
                <label for="booking_end_time">Время конца*</label>
                <input type="time" id="booking_end_time" name="booking_end_time" required step="3600" min="00:00" max="23:00">
              </div>
            </div>
            
            <div class="time-display">
              <p>Выберите дату и время начала и конца</p>
            </div>
            
            <!-- Final price calculation -->
            <div id="finalPrice" class="final-price-block" style="display: none;">
              <div class="price-calculation">
                <div class="price-row">
                  <span>Количество часов:</span>
                  <span id="totalHours">0</span>
                </div>
                <div class="price-row">
                  <span>Стоимость за час:</span>
                  <span>{{ settings.hourly_price }} ₽</span>
                </div>
                <div class="price-row total">
                  <span>Итого к оплате:</span>
                  <span id="finalPriceValue">0 ₽</span>
                </div>
              </div>
            </div>
            
            <div class="form-actions">
              <div class="checkbox-group">
                <input type="checkbox" id="data_consent" name="data_consent" required>
                <label for="data_consent">Я согласен на обработку персональных данных*</label>
              </div>
              
              <button type="submit" class="submit-btn" id="submitBtn" disabled>
                <i class="fas fa-calendar-check"></i>
                <span>Забронировать</span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Decorative images positioned between form and description -->
      <div class="decorative-images">
        <img src="{{ url_for('static', filename='images/parking-sign-1.png') }}" alt="Parking Sign" class="parking-sign">
        <img src="{{ url_for('static', filename='images/calendar.png') }}" alt="Calendar" class="calendar-image">
        <img src="{{ url_for('static', filename='images/plane.png') }}" alt="Plane" class="plane-image">
      </div>
    </div>
  </div>

  <!-- Bottom sections on the same level -->
  <div class="bottom-sections">
    <!-- Why us section -->
    <section class="why-us-section">
      <h2>Почему мы?</h2>
      <div class="why-us-container">
        <div class="advantages-grid">
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Трансфер до аэропорта</span>
          </div>
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Бесплатно пуско-зарядное устройство</span>
          </div>
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Бесплатное взвешивание багажа</span>
          </div>
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Упаковка багажа</span>
          </div>
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Встреча по прилету</span>
          </div>
          <div class="advantage-item">
            <i class="fas fa-check-circle"></i>
            <span>Бесплатно компрессор для шин</span>
          </div>
        </div>
        
        <!-- Car image in why us section -->
        <!-- <div class="car-image">
          <img src="{{ url_for('static', filename='images/car-new.png') }}" alt="Car">
        </div> -->
      </div>
    </section>

    <!-- FAQ section -->
    <section class="faq-section">
      <h2>Вопрос - Ответ</h2>
      <div class="faq-container">
        <div class="faq-item">
          <div class="faq-header">
            <span>Порядок действий</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-content">
            <ol>
              <li>Вы бронируете место.</li>
              <li>Приезжаете на парковку.</li>
              <li>Мы своим транспортом доставляем Вас до аэропорта. Время в пути от парковки до аэропорта 5 минут.</li>
              <li>По прилете (после получения багажа) Вы звоните нам, пока Вы будете выходить мы приезжаем за Вами и отвозим на парковку.</li>
            </ol>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-header">
            <span>Оплата</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-content">
            <p>По въезде на парковку вы получаете парковочную карту, которая фиксирует ваш автомобиль, дату и время заезда на парковку. Оплата парковки происходит при выезде с парковки.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-header">
            <span>Прилетаешь в другой аэропорт?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-content">
            <p>Бронировать такси в другие аэропорты желательно заранее</p>
            <ul>
              <li>аэр. Домодедово → аэр. Шереметьево — 2700 рублей</li>
              <li>аэр. Внуково → аэр. Шереметьево — 2500 рублей</li>
              <li>аэр. Внуково → аэр. Домодедово — 2500 рублей</li>
            </ul>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-header">
            <span>Как добраться из терминала B в терминал (D) (В,C)?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-content">
            <p>Терминалы B и C, составляющие Северный комплекс, расположены максимально близко друг к другу. Вы можете легко пройти пешком по переходу на 3 этаже. Также можно прогуляться по улице, любуясь видами аэропорта — терминалы находятся буквально в нескольких шагах друг от друга. 😊</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-header">
            <span>Место встречи и высадки?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-content">
            <p>Место встречи и высадки закреплено за нами на выезде из терминалов B-C на постоянной основе.<br>
            Дойти до места остановки трансфера из терминалов B-C можно за 3-5 мин.<br><br>
            К сожалению, администрацией аэропорта официально запрещены въезд и остановка у терминалов B-C в зоне прилета для всех видов такси и автобусов, кроме городских и личных автомобилей. Надеемся на понимание!</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>© 2024. Парковка Шереметьево</p>
      <p>Все права защищены</p>
      <p>Данный сайт носит информационно-справочный характер и ни при каких условиях не является публичной офертой</p>
    </div>
  </footer>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // FAQ accordion functionality
    const faqHeaders = document.querySelectorAll('.faq-header');
    faqHeaders.forEach(header => {
        header.addEventListener('click', function() {
            const faqItem = this.parentElement;
            const content = faqItem.querySelector('.faq-content');
            const icon = this.querySelector('i');
            
            // Toggle active state
            faqItem.classList.toggle('active');
            
            // Toggle content visibility
            if (faqItem.classList.contains('active')) {
                content.style.maxHeight = content.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            } else {
                content.style.maxHeight = '0';
                icon.style.transform = 'rotate(0deg)';
            }
        });
    });
    
    // Auto-set end date to start date
    const startDateInput = document.getElementById('booking_start_date');
    const endDateInput = document.getElementById('booking_end_date');
    if (startDateInput && endDateInput) {
        startDateInput.addEventListener('change', function() {
            endDateInput.value = startDateInput.value;
        });
    }
});
</script>
{% endblock %}
