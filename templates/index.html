{% extends "base.html" %}

{% block title %}–û—Ö—Ä–∞–Ω–∞ –∏ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–µ –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-xl-5 col-lg-6 col-md-12 mb-4 mb-md-0">
    <!-- –£–¥–∞–ª—ë–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ç–µ–ø–µ—Ä—å –±–ª–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–∞—Ä—Ç–æ—á–µ–∫-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π -->
    <div class="row row-cols-2 row-cols-md-2 g-2 mb-4">
      <div class="col">
        <div class="card h-100 text-center border-0">
          <div class="card-body py-2 px-1">
            <div class="mb-1" style="font-size:1.3rem;">
              <i class="fas fa-user-shield" aria-hidden="true"></i>
            </div>
            <div class="fw-bold" style="font-size:1rem;">–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∏</div>
            <div class="small text-muted" style="font-size:0.85rem;">(–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)</div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card h-100 text-center border-0">
          <div class="card-body py-2 px-1">
            <div class="mb-1" style="font-size:1.3rem;">
              <i class="fas fa-border-style" aria-hidden="true"></i>
            </div>
            <div class="fw-bold" style="font-size:1rem;">–í—ã—Å–æ–∫–∏–π –∑–∞–±–æ—Ä –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É</div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card h-100 text-center border-0">
          <div class="card-body py-2 px-1">
            <div class="mb-1" style="font-size:1.3rem;">
              <i class="fas fa-video" aria-hidden="true"></i>
            </div>
            <div class="fw-bold" style="font-size:1rem;">–°–∏—Å—Ç–µ–º–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è</div>
            <div class="small text-muted" style="font-size:0.85rem;">—Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –∑–∞–ø–∏—Å—å—é</div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card h-100 text-center border-0">
          <div class="card-body py-2 px-1">
            <div class="mb-1" style="font-size:1.3rem;">
              <i class="fas fa-eye" aria-hidden="true"></i>
            </div>
            <div class="fw-bold" style="font-size:1rem;">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏</div>
            <div class="small text-muted" style="font-size:0.85rem;">–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="mb-4">
      <h2 class="h5 fw-bold mb-3">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
      <ul class="row list-unstyled mb-0">
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –¥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞</li>
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–£–ø–∞–∫–æ–≤–∫–∞ –±–∞–≥–∞–∂–∞</li>
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –ø—É—Å–∫–æ-–∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–í—Å—Ç—Ä–µ—á–∞ –ø–æ –ø—Ä–∏–ª–µ—Ç—É</li>
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–µ –±–∞–≥–∞–∂–∞</li>
        <li class="col-12 col-sm-6 mb-2"><i class="fas fa-check-circle me-2" style="color:#222e3a;"></i>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä –¥–ª—è —à–∏–Ω</li>
      </ul>
    </div>
    <hr>
    <div class="mb-4">
      <h2 class="h5 fw-bold mb-3">–í–æ–ø—Ä–æ—Å/–û—Ç–≤–µ—Ç</h2>
      <div class="accordion" id="faqAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              <ol class="mb-0">
                <li>–í—ã –±—Ä–æ–Ω–∏—Ä—É–µ—Ç–µ –º–µ—Å—Ç–æ.</li>
                <li>–ü—Ä–∏–µ–∑–∂–∞–µ—Ç–µ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫—É.</li>
                <li>–ú—ã —Å–≤–æ–∏–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –í–∞—Å –¥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞. –í—Ä–µ–º—è –≤ –ø—É—Ç–∏ –æ—Ç –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ 5 –º–∏–Ω—É—Ç.</li>
                <li>–ü–æ –ø—Ä–∏–ª–µ—Ç–µ (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–≥–∞–∂–∞) –í—ã –∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º, –ø–æ–∫–∞ –í—ã –±—É–¥–µ—Ç–µ –≤—ã—Ö–æ–¥–∏—Ç—å –º—ã –ø—Ä–∏–µ–∑–∂–∞–µ–º –∑–∞ –í–∞–º–∏ –∏ –æ—Ç–≤–æ–∑–∏–º –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫—É.</li>
              </ol>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              –û–ø–ª–∞—Ç–∞
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              –ü–æ –≤—ä–µ–∑–¥–µ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫—É –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –ø–∞—Ä–∫–æ–≤–æ—á–Ω—É—é –∫–∞—Ä—Ç—É, –∫–æ—Ç–æ—Ä–∞—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤–∞—à –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –∑–∞–µ–∑–¥–∞ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫—É. –û–ø–ª–∞—Ç–∞ –ø–∞—Ä–∫–æ–≤–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—ã–µ–∑–¥–µ —Å –ø–∞—Ä–∫–æ–≤–∫–∏.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              –ü—Ä–∏–ª–µ—Ç–∞–µ—à—å –≤ –¥—Ä—É–≥–æ–π –∞—ç—Ä–æ–ø–æ—Ä—Ç?
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫—Å–∏ –≤ –¥—Ä—É–≥–∏–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ<br>
              <ul class="mb-0">
                <li>–∞—ç—Ä. –î–æ–º–æ–¥–µ–¥–æ–≤–æ ‚Üí –∞—ç—Ä. –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ ‚Äî 2700 —Ä—É–±–ª–µ–π</li>
                <li>–∞—ç—Ä. –í–Ω—É–∫–æ–≤–æ ‚Üí –∞—ç—Ä. –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ ‚Äî 2500 —Ä—É–±–ª–µ–π</li>
                <li>–∞—ç—Ä. –í–Ω—É–∫–æ–≤–æ ‚Üí –∞—ç—Ä. –î–æ–º–æ–¥–µ–¥–æ–≤–æ ‚Äî 2500 —Ä—É–±–ª–µ–π</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              –ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ B –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª (D) (–í,C)?
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              –¢–µ—Ä–º–∏–Ω–∞–ª—ã B –∏ C, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –°–µ–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É. –í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø—Ä–æ–π—Ç–∏ –ø–µ—à–∫–æ–º –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ 3 —ç—Ç–∞–∂–µ. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è –ø–æ —É–ª–∏—Ü–µ, –ª—é–±—É—è—Å—å –≤–∏–¥–∞–º–∏ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –±—É–∫–≤–∞–ª—å–Ω–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞–≥–∞—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. üòä
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
              –ú–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ –∏ –≤—ã—Å–∞–¥–∫–∏?
            </button>
          </h2>
          <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              –ú–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ –∏ –≤—ã—Å–∞–¥–∫–∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–æ –∑–∞ –Ω–∞–º–∏ –Ω–∞ –≤—ã–µ–∑–¥–µ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ B-C –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ.<br>
              –î–æ–π—Ç–∏ –¥–æ –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ B-C –º–æ–∂–Ω–æ –∑–∞ 3-5 –º–∏–Ω.<br><br>
              –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –≤—ä–µ–∑–¥ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —É —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ B-C –≤ –∑–æ–Ω–µ –ø—Ä–∏–ª–µ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–æ–≤ —Ç–∞–∫—Å–∏ –∏ –∞–≤—Ç–æ–±—É—Å–æ–≤, –∫—Ä–æ–º–µ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∏ –ª–∏—á–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π. –ù–∞–¥–µ–µ–º—Å—è –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ!
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- –£–¥–∞–ª—ë–Ω –±–ª–æ–∫ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (div.mob) -->
  </div>
  <div class="col-xl-5 col-lg-6 col-md-12">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-plus-circle me-2"></i>
                    –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                </h5>
            </div>
            <div class="card-body">
                <form id="bookingForm" method="POST" action="{{ url_for('book_parking') }}">
                    <div class="mb-3">
                        <label for="first_name" class="form-label">–ò–º—è *</label>
                        <input type="text" class="form-control" id="first_name" name="first_name" required>
                    </div>
                    <div class="mb-3">
                        <label for="last_name" class="form-label">–§–∞–º–∏–ª–∏—è *</label>
                        <input type="text" class="form-control" id="last_name" name="last_name" required>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="tel" class="form-control" id="phone" name="phone" 
                               placeholder="+7 (999) 123-45-67" required>
                        <div class="form-text">–í–≤–µ–¥–∏—Ç–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
                    </div>
                    <div class="mb-3">
                        <div class="alert alert-secondary text-center">
                            <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —á–∞—Å–∞: {{ settings.hourly_price }} ‚ÇΩ</strong>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="booking_start_date" class="form-label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *</label>
                            <input type="date" class="form-control" id="booking_start_date" name="booking_start_date" min="{{ today }}" required>
                        </div>
                        <div class="col-md-6">
                            <label for="booking_end_date" class="form-label">–î–∞—Ç–∞ –∫–æ–Ω—Ü–∞ *</label>
                            <input type="date" class="form-control" id="booking_end_date" name="booking_end_date" min="{{ today }}" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="booking_start_time" class="form-label">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ *</label>
                            <input type="time" class="form-control" id="booking_start_time" name="booking_start_time" required step="3600" min="00:00" max="23:00" pattern="\d{2}:00" inputmode="numeric">
                        </div>
                        <div class="col-md-6">
                            <label for="booking_end_time" class="form-label">–í—Ä–µ–º—è –∫–æ–Ω—Ü–∞ *</label>
                            <input type="time" class="form-control" id="booking_end_time" name="booking_end_time" required step="3600" min="00:00" max="23:00" pattern="\d{2}:00" inputmode="numeric">
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="selected-time-display" id="selectedTimeDisplay">
                            <div class="text-muted">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞</div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="data_consent" name="data_consent" required>
                            <label class="form-check-label" for="data_consent">
                                –Ø —Å–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö *
                            </label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div id="finalPrice" class="alert alert-info text-center" style="display:none;">
                            <strong>–ò—Ç–æ–≥–æ: <span id="finalPriceValue">0</span> ‚ÇΩ</strong>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary w-100" id="submitBtn" disabled>
                        <i class="fas fa-calendar-check me-2"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeBookingForm();
    const startDateInput = document.getElementById('booking_start_date');
    const endDateInput = document.getElementById('booking_end_date');
    startDateInput.addEventListener('change', function() {
        endDateInput.value = startDateInput.value;
    });
});
</script>
{% endblock %}
